(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[501],{5732:function(t,n,e){"use strict";e.r(n),e.d(n,{__N_SSG:function(){return v}});var i=e(6687),r=e(7294),o=e(9008),a=e.n(o),s=e(1163),c=e(2125),l=e(5893);function d(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=Array(n);e<n;e++)i[e]=t[e];return i}var f=c.ZP.main.withConfig({displayName:"id__Main",componentId:"sc-wbbhav-0"})(["font-family:sans-serif;min-height:100vh;gap:0;background:#000;display:flex;"]),u=c.ZP.div.withConfig({displayName:"id__Column",componentId:"sc-wbbhav-1"})(["width:","px;"],function(t){return t.width}),h=c.ZP.div.withConfig({displayName:"id__ImgWrapper",componentId:"sc-wbbhav-2"})(["position:relative;}"]),p=c.ZP.img.withConfig({displayName:"id__Img",componentId:"sc-wbbhav-3"})(["width:100%;vertical-align:top;"]),m=c.ZP.div.withConfig({displayName:"id__Description",componentId:"sc-wbbhav-4"})(["width:100%;height:100%;color:#fff;padding:20px 24px;opacity:0;background:rgba(0,0,0,0.4);box-sizing:border-box;transition:opacity 0.2s ease-out;position:absolute;top:0;&:hover{opacity:0.8;}h3{margin:0;}p{margin:4px 0 0 0;}"]),g=c.ZP.footer.withConfig({displayName:"id__Footer",componentId:"sc-wbbhav-5"})(["width:calc(100% - 80px);color:#fff;text-align:right;font-family:sans-serif;padding:20px 40px 20px 40px;position:fixed;bottom:0px;left:0px;background:linear-gradient(rgba(0,0,0,0),rgba(0,0,0,0.5));h1,.date{text-shadow:0 1px 4px #000;font-family:kinuta-maruminold-stdn,serif;font-weight:400;font-style:normal;}h1{line-height:2.5rem;font-size:2.2rem;margin:0;@media screen and (max-width:500px){font-size:1.8rem;}}.date{line-height:1.2rem;font-size:1.2rem;margin:4px 0 0 0;}"]),x=c.ZP.p.withConfig({displayName:"id__Copyright",componentId:"sc-wbbhav-6"})(["line-height:1rem;margin:4px 0 0 0;small{font-size:0.6rem;opacity:0.6;}a{color:#add8e6;}"]),y=c.ZP.nav.withConfig({displayName:"id__Navigation",componentId:"sc-wbbhav-7"})(["position:fixed;bottom:16px;left:16px;display:flex;gap:10px;a{width:34px;height:34px;line-height:34px;color:#fff;text-align:center;font-size:16px;border-radius:50%;background:rgba(0,0,0,0.2);display:block;&:hover{background:rgba(255,255,255,0.2);}}button + button{margin-left:4px;}"]),b=c.ZP.span.withConfig({displayName:"id__Half",componentId:"sc-wbbhav-8"})(["width:0.5em;display:inline-block;"]),w=function(t){for(var n=(0,i.Z)(t),e=n.length-1;e>=0;e--){var r=Math.floor(Math.random()*(e+1)),o=[n[r],n[e]];n[e]=o[0],n[r]=o[1]}return n},v=!0;n.default=function(t){var n=(0,s.useRouter)(),e=(0,r.useState)(0),i=e[0],o=e[1],c=(0,r.useState)(1),v=c[0],j=c[1],_=(0,r.useState)([]),k=_[0],N=_[1],C=(0,r.useState)([]),I=C[0],S=C[1],A=function(t){j(t)},E=i/v,P=function(t){A(Math.max(1,v+(t?1:-1)))},T=function(t){return t.height/t.width*E};(0,r.useEffect)(function(){o(window.innerWidth),window.addEventListener("resize",function(){o(window.innerWidth)}),N("sorted"in n.query?t.photos:w(t.photos)),A(Math.max(Math.floor(window.innerWidth/350),2))},[]),(0,r.useEffect)(function(){var n,e=t.photos.reduce(function(t,n){return t+T(n)},0),i=0,r=[[]],o=function(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return d(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return d(t,n)}}(t))){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==e.return||e.return()}finally{if(s)throw o}}}}(k);try{for(o.s();!(n=o.n()).done;){var a=n.value;r[r.length-1].push(a),(i+=T(a))>e/v&&(r.push([]),i=0)}}catch(s){o.e(s)}finally{o.f()}S(r)},[E]);var Z=t.title[t.title.length-1];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a(),{children:[(0,l.jsxs)("title",{children:[t.title," - いなにわうどん.みんな"]}),(0,l.jsx)("meta",{charSet:"utf-8"}),(0,l.jsx)("meta",{name:"format-detection",content:"telephone=no"}),(0,l.jsx)("script",{dangerouslySetInnerHTML:{__html:'(function(d) {\n  var config = {\n    kitId: \'mjm0riz\',\n    scriptTimeout: 3000,\n    async: true\n  },\n  h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src=\'https://use.typekit.net/\'+config.kitId+\'.js\';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)\n})(document);'}})]}),(0,l.jsx)(f,{style:{columnCount:v},children:I.map(function(t){return(0,l.jsx)(u,{width:E,children:t.map(function(t){return(0,l.jsx)("a",{href:t.src,children:(0,l.jsxs)(h,{children:[(0,l.jsx)(p,{src:t.thumnail_src,width:E,height:T(t),alt:t.title}),(0,l.jsxs)(m,{children:[(0,l.jsx)("h3",{children:t.title}),(0,l.jsx)("p",{children:t.place}),(0,l.jsx)("p",{children:t.date})]})]})},t.src)})})})}),(0,l.jsxs)(g,{children:[(0,l.jsxs)("h1",{children:[t.title.substring(0,t.title.length-1),["）","」","』","】","］","〉","》","。","、"].includes(Z)?(0,l.jsx)(b,{children:"）"}):(0,l.jsx)("span",{children:Z})]}),(0,l.jsx)("p",{className:"date",children:t.date}),(0,l.jsx)(x,{children:(0,l.jsxs)("small",{children:["\xa9 いなにわうどん. ページ中の写真は"," ",(0,l.jsx)("a",{href:"https://creativecommons.org/licenses/by/4.0/deed.ja",children:"クリエイティブ・コモンズ 表示 4.0 国際 (CC BY 4.0)"})," ","の下で頒布しています",(0,l.jsx)(b,{children:"。"})]})})]}),(0,l.jsxs)(y,{children:[(0,l.jsx)("a",{onClick:function(){return P(!0)},children:"−"}),(0,l.jsx)("a",{onClick:function(){return P(!1)},children:"＋"})]})]})}},8836:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/photo/[id]",function(){return e(5732)}])},1163:function(t,n,e){t.exports=e(1587)},6687:function(t,n,e){"use strict";function i(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=Array(n);e<n;e++)i[e]=t[e];return i}function r(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return i(t,n)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.d(n,{Z:function(){return r}})}},function(t){t.O(0,[953,774,888,179],function(){return t(t.s=8836)}),_N_E=t.O()}]);